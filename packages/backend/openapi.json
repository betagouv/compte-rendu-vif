{"openapi":"3.1.0","info":{"title":"CR VIF API","description":"CR VIF API Documentation","version":"1.0"},"components":{"schemas":{}},"paths":{"/api/authenticate":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"code":{"type":"string"}},"required":["code"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"tokens":{"type":"object","properties":{"access_token":{"type":"string"},"expires_in":{"type":"string"},"refresh_token":{"type":"string"},"refresh_expires_in":{"type":"string"},"token_type":{"type":"string"},"session_state":{"type":"string"},"scope":{"type":"string"},"id_token":{"type":"string"}},"required":["access_token","expires_in","refresh_token","refresh_expires_in","token_type","session_state","scope","id_token"]},"user":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"service_id":{"type":"string"},"service":{"type":"object","properties":{"id":{"type":"string"},"department":{"type":"string"},"completeCoords":{"anyOf":[{"type":"string"},{"type":"null"}]},"visible":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"name":{"anyOf":[{"type":"string"},{"type":"null"}]},"address":{"anyOf":[{"type":"string"},{"type":"null"}]},"zipCode":{"anyOf":[{"type":"string"},{"type":"null"}]},"city":{"anyOf":[{"type":"string"},{"type":"null"}]},"phone":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"anyOf":[{"type":"string"},{"type":"null"}]},"marianne_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"drac_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"dept_numbers":{"anyOf":[{"type":"string"},{"type":"null"}]},"service_text":{"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","department"]}},"required":["id","name","service_id","service"]}},"required":["tokens","user"]}}}}}}},"/api/refresh-token":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"refreshToken":{"type":"string"}},"required":["refreshToken"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"service_id":{"type":"string"},"service":{"type":"object","properties":{"id":{"type":"string"},"department":{"type":"string"},"completeCoords":{"anyOf":[{"type":"string"},{"type":"null"}]},"visible":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"name":{"anyOf":[{"type":"string"},{"type":"null"}]},"address":{"anyOf":[{"type":"string"},{"type":"null"}]},"zipCode":{"anyOf":[{"type":"string"},{"type":"null"}]},"city":{"anyOf":[{"type":"string"},{"type":"null"}]},"phone":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"anyOf":[{"type":"string"},{"type":"null"}]},"marianne_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"drac_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"dept_numbers":{"anyOf":[{"type":"string"},{"type":"null"}]},"service_text":{"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","department"]}},"required":["id","name","service_id","service"]},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"expiresAt":{"type":"string"}},"required":["user","accessToken","refreshToken","expiresAt"]}}}}}}},"/api/create-user":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"password":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"job":{"type":"string"},"service_id":{"type":"string"}},"required":["password","name","email","job","service_id"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"service_id":{"type":"string"},"service":{"type":"object","properties":{"id":{"type":"string"},"department":{"type":"string"},"completeCoords":{"anyOf":[{"type":"string"},{"type":"null"}]},"visible":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"name":{"anyOf":[{"type":"string"},{"type":"null"}]},"address":{"anyOf":[{"type":"string"},{"type":"null"}]},"zipCode":{"anyOf":[{"type":"string"},{"type":"null"}]},"city":{"anyOf":[{"type":"string"},{"type":"null"}]},"phone":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"anyOf":[{"type":"string"},{"type":"null"}]},"marianne_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"drac_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"dept_numbers":{"anyOf":[{"type":"string"},{"type":"null"}]},"service_text":{"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","department"]}},"required":["id","name","service_id","service"]},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"expiresAt":{"type":"string"}},"required":["user","accessToken","refreshToken","expiresAt"]}}}}}}},"/api/login-user":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"service_id":{"type":"string"},"service":{"type":"object","properties":{"id":{"type":"string"},"department":{"type":"string"},"completeCoords":{"anyOf":[{"type":"string"},{"type":"null"}]},"visible":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"name":{"anyOf":[{"type":"string"},{"type":"null"}]},"address":{"anyOf":[{"type":"string"},{"type":"null"}]},"zipCode":{"anyOf":[{"type":"string"},{"type":"null"}]},"city":{"anyOf":[{"type":"string"},{"type":"null"}]},"phone":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"anyOf":[{"type":"string"},{"type":"null"}]},"marianne_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"drac_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"dept_numbers":{"anyOf":[{"type":"string"},{"type":"null"}]},"service_text":{"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","department"]}},"required":["id","name","service_id","service"]},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"expiresAt":{"type":"string"}},"required":["user","accessToken","refreshToken","expiresAt"]}}}}}}},"/api/change-service":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"service_id":{"type":"string"}},"required":["service_id"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}}}},"/api/send-reset-password":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}}}},"/api/reset-password":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"temporaryLink":{"type":"string"},"newPassword":{"type":"string"}},"required":["temporaryLink","newPassword"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{"message":{"type":"string"}},"required":["message"]}}}}}}},"/api/services":{"get":{"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"department":{"type":"string"},"completeCoords":{"anyOf":[{"type":"string"},{"type":"null"}]},"visible":{"anyOf":[{"type":"boolean"},{"type":"null"}]},"name":{"anyOf":[{"type":"string"},{"type":"null"}]},"address":{"anyOf":[{"type":"string"},{"type":"null"}]},"zipCode":{"anyOf":[{"type":"string"},{"type":"null"}]},"city":{"anyOf":[{"type":"string"},{"type":"null"}]},"phone":{"anyOf":[{"type":"string"},{"type":"null"}]},"email":{"anyOf":[{"type":"string"},{"type":"null"}]},"marianne_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"drac_text":{"anyOf":[{"type":"string"},{"type":"null"}]},"dept_numbers":{"anyOf":[{"type":"string"},{"type":"null"}]},"service_text":{"anyOf":[{"type":"string"},{"type":"null"}]}},"required":["id","department"]}}}}}}}},"/api/upload/attachment":{"post":{"responses":{"200":{"description":"Default Response"}}},"get":{"responses":{"200":{"description":"Default Response"}}}},"/api/upload/picture/{pictureId}/lines":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"lines":{"type":"array","items":{"type":"object","properties":{"points":{"type":"array","items":{"type":"object","properties":{"x":{"type":"number"},"y":{"type":"number"}},"required":["x","y"]}},"color":{"type":"string"}},"required":["points","color"]}}},"required":["lines"]}}},"required":true},"parameters":[{"schema":{"type":"string"},"in":"path","name":"pictureId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/pdf/report":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"htmlString":{"type":"string"},"reportId":{"type":"string"},"recipients":{"type":"string"}},"required":["htmlString","reportId","recipients"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"string"}}}}}},"get":{"parameters":[{"schema":{"type":"string"},"in":"query","name":"reportId","required":true}],"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{}}}}}}}},"/api/pdf/state-report":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"htmlString":{"type":"string"},"stateReportId":{"type":"string"},"recipients":{"type":"string"}},"required":["htmlString","stateReportId","recipients"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/upload-data":{"post":{"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"op_id":{"type":"number"},"tx_id":{"anyOf":[{"type":"number"},{"type":"null"}]},"id":{"type":"string"},"type":{"type":"string"},"op":{"type":"string"},"data":{}},"required":["op_id","id","type","op"]}}},"required":true},"responses":{"200":{"description":"Default Response","content":{"application/json":{"schema":{"type":"object","properties":{}}}}}}}}}}
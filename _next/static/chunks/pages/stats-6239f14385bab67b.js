(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{33397:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stats",function(){return t(83527)}])},83527:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var i=t(85893),r=t(67294),n=t(9008),a=t.n(n),d=t(77458);let l=e=>(0,i.jsx)("div",{className:d.fr.cx("fr-col-12","fr-col-md-4"),children:(0,i.jsx)("div",{className:d.fr.cx("fr-card","fr-card--no-arrow"),children:(0,i.jsxs)("div",{className:d.fr.cx("fr-card__body"),children:[(0,i.jsx)("strong",{className:d.fr.cx("fr-display--md","fr-mt-5w"),style:{textAlign:"center"},children:e.stats}),(0,i.jsx)("h2",{className:d.fr.cx("fr-card__title","fr-mb-4w"),children:e.title}),e.description&&(0,i.jsx)("div",{className:d.fr.cx("fr-card__desc"),children:(0,i.jsx)("p",{children:e.description})})]})})}),c=async()=>{var e,s,t;let i=["".concat("https:/stats.beta.gouv.fr","/?module=API&method=VisitsSummary.getVisits&idSite=").concat("63","&format=JSON&period=year&date=today"),"".concat("https:/stats.beta.gouv.fr","/?module=API&method=Actions.get&idSite=").concat("63","&format=JSON&period=year&date=today")].map(e=>fetch(e).then(e=>e.json()).catch(()=>null)),[r,n]=await Promise.all(i);return{nbPageViews:null!==(e=null==n?void 0:n.nb_pageviews)&&void 0!==e?e:0,nbUniqPageViews:null!==(s=null==n?void 0:n.nb_uniq_pageviews)&&void 0!==s?s:0,nbVisits:null!==(t=null==r?void 0:r.value)&&void 0!==t?t:0}};var o=()=>{let[e,s]=r.useState({nbPageViews:0,nbVisits:0,nbUniqPageViews:0});return(0,r.useEffect)(()=>{(async()=>{s(await c())})()},[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a(),{children:(0,i.jsx)("title",{children:"Template | Statistiques d'utilisation"})}),(0,i.jsxs)("div",{className:"fr-container fr-my-10w",children:[(0,i.jsx)("h1",{children:"Statistiques d'utilisation"}),(0,i.jsxs)("div",{className:"fr-grid-row fr-grid-row--gutters fr-grid-row--center",children:[(0,i.jsx)(l,{title:"Nombre de visites",stats:e.nbVisits,description:"C'est le nombre de visites total du site sur les 12 derniers mois"}),(0,i.jsx)(l,{title:"Nombre de pages vues (total)",stats:e.nbPageViews,description:"C'est le nombre de pages vues au total sur le site sur les 12 derniers mois"}),(0,i.jsx)(l,{title:"Nombre de pages vues (uniques)",stats:e.nbUniqPageViews,description:"C'est le nombre de pages vues uniques sur le site sur les 12 derniers mois"})]})]})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=33397)}),_N_E=e.O()}]);
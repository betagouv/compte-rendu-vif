generator client {
    provider = "prisma-client-js"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model User {
    id        String   @id
    email     String   @unique
    name      String?
    password  String
    createdAt DateTime
    reports   Report[]
}

model Report {
    id                  String           @id
    title               String
    redactedBy          String
    createdById         String
    meetDate            DateTime
    meetLink            String
    applicantName       String
    applicantType       String
    projectStatus       String
    projectCadastralRef String
    projectLandContact  String
    projectSpaceType    String
    projectNature       String
    projectDescription  String
    decision            String
    decisionComment     String
    contacts            String
    createdAt           DateTime
    updatedAt           DateTime         @updatedAt
    createdBy           User             @relation(fields: [createdById], references: [id])
    ReportToClause      ReportToClause[]
}

model ReportToClause {
    reportId String
    clauseId String
    clause   Clause @relation(fields: [clauseId], references: [id])
    report   Report @relation(fields: [reportId], references: [id])

    @@id([reportId, clauseId])
}

model Clause {
    id             String           @id
    label          String
    value          String
    ReportToClause ReportToClause[]
}

model atdatabases_migrations_applied {
    id            BigInt   @id @default(autoincrement())
    index         Int
    name          String
    script        String
    applied_at    DateTime @db.Timestamptz(6)
    ignored_error String?
    obsolete      Boolean
}

model atdatabases_migrations_version {
    id      Int     @id
    version String?
}
